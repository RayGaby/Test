<?xml version="1.0" encoding="gb2312"?>

<business-logic-config>

	<logic-mappings>

		<!-- 通用执行DAO任务的业务逻辑处理器，参数说明如下： task-name：DAO配置的taskName param-name-list：输入参数列表 
			result-code-name：输出参数标识，如果是查询则变量存放的是查询结果集，如果是更新则返回变量存放的是更新记录数 type：返回的查询结果集类型，ArrayList或者DataSet -->
		<logic name="welcome_dzda_fxjkg" handler="DAOTaskHandler">
			<dao task-name="example3_select_mysql">
				<sql param-name-list="name,sex" result-code-name="output" type="DataSet" />
				<!-- <sql param-name-list="name2" result-code-name="output2" type="DataSet" /> -->
			</dao>
		</logic>
		
		<!-- 通用查询的业务逻辑，根据传入的参数和配置和前台传入的[pageLines和pageId]，组织查询条件语句， 然后调用DAO-TASK执行查询操作返回结果集和总记录数。这里支持分页显示逻辑。 
			配置参数说明： dao-task-name：数据库调用语句名称(需要程序员在Dao配置文件中配置好) condition type：数据库语句条件拼装方式。分为and,or, 
			complex。即其下参数组成的条件将以哪种方式拼装。and,or时，其后可以没有expression属性，系统自动按制定方式拼装。Complex时，系统按其后expression写的条件及顺序拼装。 
			condition expression：数据库语句拼装条件，页面传入参数以冒号+名称（：name）的方式代表。 field param-name： 
			参数名称，页面传入参数名称。 field where-clause： 参数拼装时的形式。页面传入参数以冒号+名称（：name）的方式代表。如：<field 
			param-name="nsrsbh" where-clause="taxer_no like '%:nsrsbh%'"/> 若nsrsbh有值为12345，则系统自动拼出条件and 
			taxer_no like '%12345%' 。 and添加来至于expression=" and : nsrsbh….” query-resultset-name：结果集存放变量名称。 
			query-recordcount-name：结果集得到条数。 -->
		<logic name="queryYhxx" handler="QueryLogicHandler">
			<dao-task-name database-name="mysqltest">example2_select_mysql</dao-task-name>
			<condition type="and"
				expression=""
				maker="">
				<!--查询条件类型(expression和maker属性在type为complex时才有效) type=[and,or,complex],如果为complex类型则,又有属性: 
					expression[复杂的条件表达式]或maker[具体的条件生成器插件类] -->
				<field param-name="ParamName" where-clause="name = 'ParamName'" />
				<field param-name="ParamSex" where-clause="sex = 'ParamSex'" />
				
			</condition>
			<query-resultset-name type="DataSet">queryresult</query-resultset-name>
			<query-recordcount-name>recordcount</query-recordcount-name>
		</logic>
	</logic-mappings>

</business-logic-config>