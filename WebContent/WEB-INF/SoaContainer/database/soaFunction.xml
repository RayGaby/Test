<?xml version="1.0" encoding="gb2312"?>

<root>

	<soaFunction name="设置全局变量" declare="set(name,value)" description="设置全局变量">
	  <![CDATA[
	    public void set(name,value) {
            	serviceContext.setGlobalParam(serviceVO.getServiceId(),name,value);
            }]]>
	</soaFunction>

	<soaFunction name="获取全局变量" declare="get(name)" description="获取全局变量">
	  <![CDATA[
	    public Object get(name) {
            	serviceContext.getGlobalParam(serviceVO.getServiceId(),name);
            }]]>
	</soaFunction>

	<soaFunction name="获取XML结点值" declare="getXmlNodeValue(xml,nodeName)" description="获取XML结点值">
	  <![CDATA[
	    public String getXmlNodeValue(xml,nodeName) {
            	String s = XmlUtil.getFirstElementNode(xml,nodeName).getValueStr();
            	return StringUtil.toUnEncodedXml(s);
            }]]>
	</soaFunction>

	<soaFunction name="格式化SQL参数" declare="formatSqlParam(param)" description="格式化SQL参数">
	  <![CDATA[
	    public String formatSqlParam(param) {
            	return SqlFormat.analyseString(param);
            }]]>
	</soaFunction>	

	<soaFunction name="调用服务构件" declare="doService(serviceId,input)" description="调用服务构件,传入HashMap,传出HashMap">
	  <![CDATA[
	    public HashMap doService(serviceId,input) {
            	return SoaServiceInvoker.getInstance().doService(serviceId,input);
            }]]>
	</soaFunction>	

	<soaFunction name="读文本文件" declare="readFile(fileName)" description="读文本文件">
	  <![CDATA[
	    public String readFile(fileName) {
            	return FileUtil.readFile(fileName);
            }]]>
	</soaFunction>	
	
	<soaFunction name="写文本文件" declare="writeFile(fileName,content)" description="写文本文件">
	  <![CDATA[
	    public void writeFile(fileName,content) {
            	FileUtil.writeFile(fileName,content);
            }]]>
	</soaFunction>

			
</root>
